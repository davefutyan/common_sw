<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Common Software: Logger interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cheops-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Common Software
   &#160;<span id="projectnumber">05</span>
   </div>
   <div id="projectbrief">Common Software for CHEOPS SOC - Python API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Logger interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module provides a logger formatted specifically for CHEOPS.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:config_8py"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="config_8py.html">config.py</a></td></tr>
<tr class="memdesc:config_8py"><td class="mdescLeft">&#160;</td><td class="mdescRight">This Python module configures the standard python logging module according to the requirements of monitor4EO. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog_1_1config_1_1_alert_email_context.html">log.config.AlertEmailContext</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that stores the values that are included in alert emails.  <a href="classlog_1_1config_1_1_alert_email_context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog_1_1config_1_1_alert_email_filter.html">log.config.AlertEmailFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters out all log levels except ALERT.  <a href="classlog_1_1config_1_1_alert_email_filter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog_1_1config_1_1_alert_email_handler.html">log.config.AlertEmailHandler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A log handler that sends a log record to an email address.  <a href="classlog_1_1config_1_1_alert_email_handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog_1_1config_1_1_stderr_filter.html">log.config.StderrFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters log levels for stderr.  <a href="classlog_1_1config_1_1_stderr_filter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlog_1_1config_1_1_stdout_filter.html">log.config.StdoutFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters log levels for stdout.  <a href="classlog_1_1config_1_1_stdout_filter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga490e5bf39ca556c166f9cf224e6afffb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga490e5bf39ca556c166f9cf224e6afffb">log.config.configure</a> (programName, programVersion, stdoutLevel='INFO', stderrLevel='PROGRESS', alertEmail=None, outDir=None, logFile=None, revisionNumber=0, processingNumber=0, visitId=None, passId=None, obsid=0, processingChain=None, targetName='')</td></tr>
<tr class="memdesc:ga490e5bf39ca556c166f9cf224e6afffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures python's standard logger according to the requirements of monitor4EO.  <a href="group___logger.html#ga490e5bf39ca556c166f9cf224e6afffb">More...</a><br /></td></tr>
<tr class="separator:ga490e5bf39ca556c166f9cf224e6afffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e4416d771c7ec16b0be7218447d9fac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga6e4416d771c7ec16b0be7218447d9fac">log.config.customizeLogLevels</a> ()</td></tr>
<tr class="memdesc:ga6e4416d771c7ec16b0be7218447d9fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Customizes the log levelsThis method.  <a href="group___logger.html#ga6e4416d771c7ec16b0be7218447d9fac">More...</a><br /></td></tr>
<tr class="separator:ga6e4416d771c7ec16b0be7218447d9fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ee0de5d4e04173f91db878fd06f67bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga0ee0de5d4e04173f91db878fd06f67bd">log.config.customizeLogRecords</a> (programName, programVersion)</td></tr>
<tr class="memdesc:ga0ee0de5d4e04173f91db878fd06f67bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add custom fields to the log: nodeName, programName and programVersion.  <a href="group___logger.html#ga0ee0de5d4e04173f91db878fd06f67bd">More...</a><br /></td></tr>
<tr class="separator:ga0ee0de5d4e04173f91db878fd06f67bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga65134b22b379a72994f8b1c74a116638"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga65134b22b379a72994f8b1c74a116638">log.config.LOG_FILE</a> = None</td></tr>
<tr class="memdesc:ga65134b22b379a72994f8b1c74a116638"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the log file.  <a href="group___logger.html#ga65134b22b379a72994f8b1c74a116638">More...</a><br /></td></tr>
<tr class="separator:ga65134b22b379a72994f8b1c74a116638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e908ba9c790068489bbf9c005a3391d"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga4e908ba9c790068489bbf9c005a3391d">log.config.logLevelNames</a></td></tr>
<tr class="memdesc:ga4e908ba9c790068489bbf9c005a3391d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines how each log level is displayed.  <a href="group___logger.html#ga4e908ba9c790068489bbf9c005a3391d">More...</a><br /></td></tr>
<tr class="separator:ga4e908ba9c790068489bbf9c005a3391d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga694efa20e0164404a699981cc9f39562"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga694efa20e0164404a699981cc9f39562">log.config.logLevels</a></td></tr>
<tr class="memdesc:ga694efa20e0164404a699981cc9f39562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the names of custom log levels to their log level numbers.  <a href="group___logger.html#ga694efa20e0164404a699981cc9f39562">More...</a><br /></td></tr>
<tr class="separator:ga694efa20e0164404a699981cc9f39562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac00262cf29caa596d66976b4904d5e54"><td class="memItemLeft" align="right" valign="top"><a id="gac00262cf29caa596d66976b4904d5e54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#gac00262cf29caa596d66976b4904d5e54">log.config.NODE_NAME</a> = platform.node()</td></tr>
<tr class="memdesc:gac00262cf29caa596d66976b4904d5e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the node on which the program is running. <br /></td></tr>
<tr class="separator:gac00262cf29caa596d66976b4904d5e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga297ef464151babb94980da535f7eaa28"><td class="memItemLeft" align="right" valign="top"><a id="ga297ef464151babb94980da535f7eaa28"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga297ef464151babb94980da535f7eaa28">log.config.PROGRAM_NAME</a> = None</td></tr>
<tr class="memdesc:ga297ef464151babb94980da535f7eaa28"><td class="mdescLeft">&#160;</td><td class="mdescRight">The program name to be displayed in the log messages. <br /></td></tr>
<tr class="separator:ga297ef464151babb94980da535f7eaa28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7efc78980575a970c45da8abcca05483"><td class="memItemLeft" align="right" valign="top"><a id="ga7efc78980575a970c45da8abcca05483"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___logger.html#ga7efc78980575a970c45da8abcca05483">log.config.PROGRAM_VERSION</a> = None</td></tr>
<tr class="memdesc:ga7efc78980575a970c45da8abcca05483"><td class="mdescLeft">&#160;</td><td class="mdescRight">The program version to be displayed in the log messages. <br /></td></tr>
<tr class="separator:ga7efc78980575a970c45da8abcca05483"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module provides a logger formatted specifically for CHEOPS. </p>
<dl class="section author"><dt>Author</dt><dd>Anja Bekkelien UGE</dd></dl>
<h2>Usage</h2>
<p>The common_sw logger module consists of a python script that configures the standard python <code>logging</code> module. It modifies the log levels to debug, info, alert, progress, warn and error. It also formats the log entries to include the processor name and version, and PID.</p>
<p>To apply this configuration, the only action needed from the programmer's side is to call the auto generated <code>cheopsInit</code> method at the start of the program as shown in the code snippet below. If the code does not have a "main" but is a library intended to be imported into other programs, no action is needed. This is because the library will inherit the log configuration made in the "main" script.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># File main.py</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> logging  # the standard python logging module</div><div class="line"></div><div class="line">logger = logging.getLogger()  # <span class="keyword">get</span> a logger <span class="keywordtype">object</span></div><div class="line"></div><div class="line">def main():</div><div class="line">    logger.debug(<span class="stringliteral">&#39;A debug message&#39;</span>)</div><div class="line">    logger.info(<span class="stringliteral">&#39;An info message&#39;</span>)</div><div class="line">    logger.alert(<span class="stringliteral">&#39;1000 An alert occurred!&#39;</span>)</div><div class="line">    logger.progress(50)</div><div class="line">    logger.warn(<span class="stringliteral">&#39;A warn message&#39;</span>)</div><div class="line">    logger.error(<span class="stringliteral">&#39;An error message&#39;</span>)</div><div class="line"></div><div class="line">if __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:</div><div class="line">    </div><div class="line">    from main_init import <a class="code" href="group___prog_param.html#gab6fc3e6c043c4b86fb7a597c828982a4">cheopsInit</a> # this module is auto generated in the bin </div><div class="line">                                     # directory when make install is run</div><div class="line">                               </div><div class="line">    progParams = <a class="code" href="group___prog_param.html#gab6fc3e6c043c4b86fb7a597c828982a4">cheopsInit</a>()        # configures the standard python logger</div><div class="line">    </div><div class="line">    main()</div><div class="line">    </div><div class="line">    <a class="code" href="group___prog_param.html#ga1479089a3dd3ee5428f0e4c27275ee91">cheopsExit</a>()                     # exit routines</div></div><!-- fragment --><p>This code produces the following output to stdout: </p><div class="fragment"><div class="line">2015-05-07T16:07:17.568615 bekkelie.local main.py 1.0 [0000005384]: [D] A debug message</div><div class="line">2015-05-07T16:07:17.569285 bekkelie.local main.py 1.0 [0000005384]: [I] An info message</div><div class="line">2015-05-07T16:07:17.569585 bekkelie.local main.py 1.0 [0000005384]: [I] 1000 An alert occurred!</div></div><!-- fragment --><p>to stderr: </p><div class="fragment"><div class="line">2015-05-07T16:07:17.569463 bekkelie.local main.py 1.0 [0000005384]: [P] 50</div><div class="line">2015-05-07T16:07:17.569517 bekkelie.local main.py 1.0 [0000005384]: [W] A warn message</div><div class="line">2015-05-07T16:07:17.569649 bekkelie.local main.py 1.0 [0000005384]: [E] An error message</div></div><!-- fragment --><p>to file: </p><div class="fragment"><div class="line">2015-05-07T16:07:17.568615 bekkelie.local main.py 1.0 [0000005384]: [D] A debug message</div><div class="line">2015-05-07T16:07:17.569285 bekkelie.local main.py 1.0 [0000005384]: [I] An info message</div><div class="line">2015-05-07T16:07:17.569585 bekkelie.local main.py 1.0 [0000005384]: [I] 1000 An alert occurred!</div><div class="line">2015-05-07T16:07:17.569463 bekkelie.local main.py 1.0 [0000005384]: [P] 50</div><div class="line">2015-05-07T16:07:17.569517 bekkelie.local main.py 1.0 [0000005384]: [W] A warn message</div><div class="line">2015-05-07T16:07:17.569649 bekkelie.local main.py 1.0 [0000005384]: [E] An error message</div></div><!-- fragment --><p>Log messages are sent to different output channels depending on their log level. Debug, info and alert messages are sent to stdout, and progress, warning and error messages are sent to stderr. All log levels are written to file.</p>
<p>The lowest log levels used for stdout and stderr are defined in the job order file elements &lt;Stdout_Log_Level&gt; and &lt;Stderr_Log_Level&gt;. Log levels lower than those defined there will not be output, but will still appear in the log file. For example, if &lt;Stdout_Log_Level&gt; is set to alert and &lt;Stderr_Log_Level&gt; is set to warning, then only log messages of levels alert, info, warning and error would be output.</p>
<p>If no job order file is given as input argument to the program, the default log levels are info for stdout and progress for stderr.</p>
<p>Note that the alert log level has two special properties:</p><ul>
<li>creating an alert log entry will cause an email containing the entry to be sent to a TBD address.</li>
<li>because the alert level essentially provides information about the data used by the program, it is displayed as an info message (using [I]).</li>
</ul>
<h3>Log files</h3>
<p>Log files are only created if a job order was given as input argument to the program. The path to the log file can be defined in two different ways:</p>
<ul>
<li>By defining a dynamic processing parameter in the job order with the name 'Log_File', and setting its value to the desired path. If the file exists, logs are appended to it.</li>
<li>If the parameter 'Log_File' is not defined in the job order, the log file is created in the job order's 'OUT' output directory. Each run of the program creates a new log file.</li>
</ul>
<h2>Log level description</h2>
<table class="doxtable">
<tr>
<th>Log level </th><th>Short name </th><th>cout </th><th>cerr </th><th>Description </th><th>Input  </th></tr>
<tr>
<td><b>debug</b> </td><td>D </td><td><center>X</center> </td><td><center></center> </td><td>Basic software tracing messages. </td><td>A text message.  <br />
 </td></tr>
<tr>
<td><b>info</b> </td><td>I </td><td><center>X</center> <br />
 </td><td><center></center> <br />
 </td><td>Information about the operations or the status of the program. </td><td>A text message.  </td></tr>
<tr>
<td><b>alert</b> </td><td>I </td><td><center>X</center> <br />
 </td><td><center></center> <br />
 </td><td>An error was found in the data, which requires user action. The program may or may not be able to continue. An email containing the log record is sent to the appropriate address. </td><td>First, an integer that specifies the alert ID, then a text message.  <br />
 </td></tr>
<tr>
<td><b>progress</b> </td><td>P </td><td><center></center> <br />
 </td><td><center>X</center> <br />
 </td><td>The progress of the program in percentage. </td><td>A single integer between 0 and 100.  </td></tr>
<tr>
<td><b>warn</b> </td><td>W </td><td><center></center> <br />
 </td><td><center>X</center> <br />
 </td><td>An error occurred but the program was able to continue. </td><td>A text message.  <br />
 </td></tr>
<tr>
<td><b>error</b> </td><td>E </td><td><center></center> <br />
 </td><td><center>X</center> <br />
 </td><td>An error occurred and the program was not able to continue. </td><td>A text message.  </td></tr>
</table>
<h2>Log fields</h2>
<p>Log records have the following fields, separated by a single blank character:</p>
<p>[Date] [Node name] [Process name] [Process version] [PID]: [Level] [Message text]</p>
<table class="doxtable">
<tr>
<th>Field </th><th>Description  </th></tr>
<tr>
<td>Date </td><td>Formatted as yyyy-MM-ddThh:mm:ss.nnnnnn (26 characters).  </td></tr>
<tr>
<td>Node name </td><td>The name retrieved through the <em>hostname</em> system call.  </td></tr>
<tr>
<td>Process name </td><td>A string identifying the process.  </td></tr>
<tr>
<td>Process version </td><td>The process' version.  </td></tr>
<tr>
<td>PID </td><td>The process ID, formatted as [nnnnnnnnnn] (12 characters, including the square brackets).  </td></tr>
<tr>
<td>Level </td><td>The log level, formatted as [L] where L indicates the first letter of the log level.  </td></tr>
<tr>
<td>Message text </td><td>Variable length string.  </td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga490e5bf39ca556c166f9cf224e6afffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga490e5bf39ca556c166f9cf224e6afffb">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def log.config.configure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>programName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>programVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stdoutLevel</em> = <code>'INFO'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stderrLevel</em> = <code>'PROGRESS'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alertEmail</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outDir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logFile</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>revisionNumber</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>processingNumber</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>visitId</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>passId</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obsid</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>processingChain</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>targetName</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures python's standard logger according to the requirements of monitor4EO. </p>
<p>This method will:</p><ul>
<li>format the fields of the log entries: &lt;time&gt; &lt;nodeName&gt; &lt;programName&gt; &lt;programVersion&gt; [&lt;PID&gt;]: [&lt;logLevel&gt;] &lt;logMessage&gt;</li>
<li>add two additional log levels that do not exist in the standard logger: alert and progress</li>
<li>remove the critical log level</li>
<li>direct logs to stdout, stderr and to file</li>
</ul>
<p>The path to the log file can be provided in two ways. 1) By defining a directory. A new log file is created every time the program is run, with a unique file name containing the current time in <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a>. 2) By defining the full path to a log file. If this file already exists, logs are appended to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programName</td><td>the name of the program </td></tr>
    <tr><td class="paramname">programVersion</td><td>the program's version </td></tr>
    <tr><td class="paramname">stdoutLevel</td><td>the log level for stdout. Must be "DEBUG", "INFO", "PROGRESS", "WARNING" or "ERROR". Set to "INFO" by default. </td></tr>
    <tr><td class="paramname">stderrLevel</td><td>the log level for stderr. Must be "DEBUG", "INFO", "PROGRESS", "WARNING" or "ERROR". Set to "PROGRESS" by default. </td></tr>
    <tr><td class="paramname">alertEmail</td><td>the email to which alerts are sent, empty string by default </td></tr>
    <tr><td class="paramname">outDir</td><td>(optional) Note: if parameter <b>logFile</b> is provided, <b>outDir</b> is ignored. This is the directory in which the log file is stored. If the directory does not exist, it is created. . </td></tr>
    <tr><td class="paramname">logFile</td><td>(optional) the path the log file. Any non-existent directory in the path are created. If the file already exist, logs are appended to it. If this parameter is provided, parameter <b>outDir</b> is ignored </td></tr>
    <tr><td class="paramname">revisionNumber</td><td>(optional) the archive revision number. </td></tr>
    <tr><td class="paramname">processingNumber</td><td>(optional) the processing number. </td></tr>
    <tr><td class="paramname">visitId</td><td>(optional) the visit id as a string formatted as PRppnnnn-TGoooonn. If this argument is provided, the visit id is included in the file name. </td></tr>
    <tr><td class="paramname">passId</td><td>(optional) the pass id as a string formatted as PSyymmddhh. If this argument is provided, the pass id is included in the file name. </td></tr>
    <tr><td class="paramname">obsid</td><td>(optional) the obsid. If this argument is provided, the obsid is included in the file name. </td></tr>
    <tr><td class="paramname">processingChain</td><td>(optional) the processing chain. If provided, it is included in the log file name. </td></tr>
    <tr><td class="paramname">targetName</td><td>(optional) the name of the target. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6e4416d771c7ec16b0be7218447d9fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e4416d771c7ec16b0be7218447d9fac">&#9670;&nbsp;</a></span>customizeLogLevels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def log.config.customizeLogLevels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Customizes the log levelsThis method. </p>
<ul>
<li>Changes the way log level names are displayed to "D", "I", "P", "W" and "E"</li>
<li>Adds the 'alert' log level.</li>
<li>Adds the 'progress' log level</li>
<li>Removes the 'critical' log level </li>
</ul>

</div>
</div>
<a id="ga0ee0de5d4e04173f91db878fd06f67bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ee0de5d4e04173f91db878fd06f67bd">&#9670;&nbsp;</a></span>customizeLogRecords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def log.config.customizeLogRecords </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>programName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>programVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add custom fields to the log: nodeName, programName and programVersion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">programName</td><td>the name of the processor, which will be included in the log </td></tr>
    <tr><td class="paramname">programVersion</td><td>the processor's version, which will be included in the log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga65134b22b379a72994f8b1c74a116638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65134b22b379a72994f8b1c74a116638">&#9670;&nbsp;</a></span>LOG_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">log.config.LOG_FILE = None</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The name of the log file. </p>

</div>
</div>
<a id="ga4e908ba9c790068489bbf9c005a3391d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e908ba9c790068489bbf9c005a3391d">&#9670;&nbsp;</a></span>logLevelNames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary log.config.logLevelNames</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {logLevels[<span class="stringliteral">&#39;DEBUG&#39;</span>]    : <span class="stringliteral">&#39;D&#39;</span>,</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                 logLevels[<span class="stringliteral">&#39;INFO&#39;</span>]     : <span class="stringliteral">&#39;I&#39;</span>,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                 logLevels[<span class="stringliteral">&#39;ALERT&#39;</span>]    : <span class="stringliteral">&#39;A&#39;</span>, </div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                 logLevels[<span class="stringliteral">&#39;PROGRESS&#39;</span>] : <span class="stringliteral">&#39;P&#39;</span>,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                 logLevels[<span class="stringliteral">&#39;WARNING&#39;</span>]  : <span class="stringliteral">&#39;W&#39;</span>,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                 logLevels[<span class="stringliteral">&#39;ERROR&#39;</span>]    : <span class="stringliteral">&#39;E&#39;</span>}</div></div><!-- fragment -->
<p>Defines how each log level is displayed. </p>

</div>
</div>
<a id="ga694efa20e0164404a699981cc9f39562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga694efa20e0164404a699981cc9f39562">&#9670;&nbsp;</a></span>logLevels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary log.config.logLevels</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  {<span class="stringliteral">&#39;DEBUG&#39;</span>   : logging.DEBUG,</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;             <span class="stringliteral">&#39;INFO&#39;</span>    : logging.INFO,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;             <span class="stringliteral">&#39;ALERT&#39;</span>   : logging.INFO + 2, <span class="comment"># New log level ALERT </span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;             <span class="stringliteral">&#39;PROGRESS&#39;</span>: logging.INFO + 4, <span class="comment"># New log level PROGRESS</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;             <span class="stringliteral">&#39;WARN&#39;</span>    : logging.WARN,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;             <span class="stringliteral">&#39;WARNING&#39;</span> : logging.WARN,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;             <span class="stringliteral">&#39;ERROR&#39;</span>   : logging.ERROR}</div></div><!-- fragment -->
<p>Maps the names of custom log levels to their log level numbers. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 11 2021 08:56:18 for Common Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
