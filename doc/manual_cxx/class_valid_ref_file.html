<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Common Software: ValidRefFile&lt; HDU &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cheops-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Common Software
   &#160;<span id="projectnumber">05</span>
   </div>
   <div id="projectbrief">Common Software for CHEOPS SOC - C++ API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_valid_ref_file-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ValidRefFile&lt; HDU &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__utilities.html">Utility classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is used to get the reference file that is applicable for a given <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time.  
 <a href="class_valid_ref_file.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_valid_ref_file_8hxx_source.html">ValidRefFile.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a684aa459f2d501e7afb86533c3ea452c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_valid_ref_file.html#a684aa459f2d501e7afb86533c3ea452c">ValidRefFile</a> (const std::list&lt; std::string &gt; &amp;fileNames)</td></tr>
<tr class="memdesc:a684aa459f2d501e7afb86533c3ea452c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that takes a list of reference file names as input.  <a href="#a684aa459f2d501e7afb86533c3ea452c">More...</a><br /></td></tr>
<tr class="separator:a684aa459f2d501e7afb86533c3ea452c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfd04b4eb93b2117c7833838eeb0345c"><td class="memItemLeft" align="right" valign="top"><a id="acfd04b4eb93b2117c7833838eeb0345c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_valid_ref_file.html#acfd04b4eb93b2117c7833838eeb0345c">~ValidRefFile</a> ()</td></tr>
<tr class="memdesc:acfd04b4eb93b2117c7833838eeb0345c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the reference file if it is open. <br /></td></tr>
<tr class="separator:acfd04b4eb93b2117c7833838eeb0345c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a638add9fabc7dd56451ccba27789f7b1"><td class="memItemLeft" align="right" valign="top">HDU *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_valid_ref_file.html#a638add9fabc7dd56451ccba27789f7b1">getFile</a> (const <a class="el" href="class_u_t_c.html">UTC</a> &amp;dataTime)</td></tr>
<tr class="memdesc:a638add9fabc7dd56451ccba27789f7b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the HDU of the reference file that is applicable for the <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time given as method argument.  <a href="#a638add9fabc7dd56451ccba27789f7b1">More...</a><br /></td></tr>
<tr class="separator:a638add9fabc7dd56451ccba27789f7b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a439dab0af7359f43b65de200c0a767cf"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_validity_period.html">ValidityPeriod</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_valid_ref_file.html#a439dab0af7359f43b65de200c0a767cf">m_validityPeriods</a></td></tr>
<tr class="memdesc:a439dab0af7359f43b65de200c0a767cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A set containing all available validity periods.  <a href="#a439dab0af7359f43b65de200c0a767cf">More...</a><br /></td></tr>
<tr class="separator:a439dab0af7359f43b65de200c0a767cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ff2ea18e129426cdfad30e6431d6db"><td class="memItemLeft" align="right" valign="top">HDU *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_valid_ref_file.html#ac0ff2ea18e129426cdfad30e6431d6db">m_hdu</a> = nullptr</td></tr>
<tr class="memdesc:ac0ff2ea18e129426cdfad30e6431d6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">The currently open reference file.  <a href="#ac0ff2ea18e129426cdfad30e6431d6db">More...</a><br /></td></tr>
<tr class="separator:ac0ff2ea18e129426cdfad30e6431d6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class HDU&gt;<br />
class ValidRefFile&lt; HDU &gt;</h3>

<p>This class is used to get the reference file that is applicable for a given <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time. </p>
<hr/>
<dl class="section author"><dt>Author</dt><dd>Anja Bekkelien UGE</dd></dl>
<p>The class takes a list of reference file names in the constructor. The class type specifies the data structure type of the files. The method <b>getFile</b> will return, among those files, the one that is applicable for a specific <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="_valid_ref_file_8cxx-example.html#_a1">ValidRefFile.cxx</a>.</dd>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a684aa459f2d501e7afb86533c3ea452c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684aa459f2d501e7afb86533c3ea452c">&#9670;&nbsp;</a></span>ValidRefFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HDU&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_valid_ref_file.html">ValidRefFile</a>&lt; HDU &gt;::<a class="el" href="class_valid_ref_file.html">ValidRefFile</a> </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>fileNames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that takes a list of reference file names as input. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileNames</td><td>A list of names of reference files. All files must be of the type specified by this template class' type. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a638add9fabc7dd56451ccba27789f7b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638add9fabc7dd56451ccba27789f7b1">&#9670;&nbsp;</a></span>getFile()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HDU&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HDU* <a class="el" href="class_valid_ref_file.html">ValidRefFile</a>&lt; HDU &gt;::getFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_u_t_c.html">UTC</a> &amp;&#160;</td>
          <td class="paramname"><em>dataTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the HDU of the reference file that is applicable for the <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time given as method argument. </p>
<hr/>
<p> The returned pointer must not be deleted by the calling function. It will be deleted by this class. The returned pointer is at least valid as long as this class is not deleted and until the next call of this <a class="el" href="class_valid_ref_file.html#a638add9fabc7dd56451ccba27789f7b1" title="Returns the HDU of the reference file that is applicable for the UTC time given as method argument...">getFile()</a> method. The returned pointer is not valid any more, i. e. will be deleted by this class, if at the next call to this method a HDU pointer, pointing to an other data structure, is returned. In this case the pointer itself will be different than for the previous file. This can be used by the calling function to identify that the file has changed, if needed.</p>
<p>The file is not updated, for example to set the row number of the next ReadRow if the method is called and the same file pointer is returned as in the previous call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dataTime</td><td>The <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time for which the returned reference file must be valid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the HDU of the reference file that is valid at the specified <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> time.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">runtime_error</td><td>if no reference file is valid for the given <a class="el" href="class_u_t_c.html" title="To store a UTC time. ">UTC</a> <b>dataTime</b>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac0ff2ea18e129426cdfad30e6431d6db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ff2ea18e129426cdfad30e6431d6db">&#9670;&nbsp;</a></span>m_hdu</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HDU&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HDU* <a class="el" href="class_valid_ref_file.html">ValidRefFile</a>&lt; HDU &gt;::m_hdu = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The currently open reference file. </p>
<p>When a reference file for a specific data time is requested, this class opens the file and stores a pointer to it in <b>m_hdu</b>.</p>
<p>The file is kept open as long as subsequent requests are within its validity period.</p>
<p>If a reference file for a data time that is not within its validity period is requested, the file pointed to by <b>m_hdu</b> is closed, the new file is opened and is assigned to <b>m_hdu</b>. </p>

</div>
</div>
<a id="a439dab0af7359f43b65de200c0a767cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439dab0af7359f43b65de200c0a767cf">&#9670;&nbsp;</a></span>m_validityPeriods</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HDU&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_validity_period.html">ValidityPeriod</a>&gt; <a class="el" href="class_valid_ref_file.html">ValidRefFile</a>&lt; HDU &gt;::m_validityPeriods</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A set containing all available validity periods. </p>
<p>The validity periods are ordered by creation date. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>utilities/include/<a class="el" href="_valid_ref_file_8hxx_source.html">ValidRefFile.hxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Feb 11 2021 08:56:10 for Common Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
